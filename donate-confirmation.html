<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
	<meta name="description" content="" />
	<meta name="author" content="" />
	<title>FoodFerry - Donate</title>
	<!-- Favicon-->
	<link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
	<!-- Bootstrap icons-->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css" rel="stylesheet" />
	<!-- Font Awesome -->
	<script src="https://kit.fontawesome.com/f20ebef500.js" crossorigin="anonymous"></script>
	

	<!-- full calendar -->
	<link rel="stylesheet" href="fullcalendar/main.css" />
	<script src="fullcalendar/main.js"></script>
	<script>
		document.addEventListener('DOMContentLoaded', function () {
			var calendarEl = document.getElementById('calendar');
			var calendar = new FullCalendar.Calendar(calendarEl, {
				schedulerLicenseKey: 'GPL-My-Project-Is-Open-Source',
				initialView: 'dayGridMonth',
				selectable: true,
				themeSystem: 'standard',
				showNonCurrentDates: false,
				contentHeight: 500,
				events: [{
					title: 'Orange Peels, 5kg',
					start: '2021-10-04',
					end: '2021-10-07',
					display: 'block',
					color: 'red'
				},
				{
					title: 'Orange Peels, 2kg',
					start: '2021-11-22',
					end: '2021-11-25',
					allDay: true,
					display: 'block',
				},
				{
					title: 'Orange Peels, 2kg',
					start: '2021-11-26',
					allDay: true,
					display: 'block',
				}

			
			],
				dateClick: function (info) {
					alert('Clicked on: ' + info.dateStr);
					// change the day's background color just for fun
					// info.dayEl.style.backgroundColor = 'red';

				}

			});
			calendar.render();
		});
	</script>

	<!-- bootstrap -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

	<!-- Core theme CSS (includes Bootstrap)-->
	<link href="css/home-nav.css" rel="stylesheet" />
	<link href="css/donate.css" rel="stylesheet" />

</head>


<!-- Responsive navbar and header-->
<header>
	<nav class="navbar navbar-expand-md navbar-dark fixed-top">
		<div class="container-fluid">
			<a class="navbar-brand px-3 fw-bolder fs-2" href="./index.html" style="color:#7ED7D3">FoodFerry</a>
			<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse"
				aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>
			<div class="collapse navbar-collapse fs-5 fw-bold px-3" id="navbarCollapse">
				<ul class="navbar-nav me-auto mb-2 mb-md-0">
					<li class="nav-item">
						<a class="nav-link" aria-current="page" href="./dashboard.html">Dashboard</a>
					</li>
					<li class="nav-item">
						<a class="nav-link active" href="donate-details.html">Donate</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="history.html">History</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="./partners.html">Our Partners</a>
					</li>
					<!-- <li>
						<input type="text" class="form-control mx-3" placeholder="Search">
					</li> -->
				</ul>

				<ul class="navbar-nav mb-2 mb-md-0">

					<!-- Notifications-->
					<li>
						<!-- Notifications button -->
						<button id="notifDropdownBtn" class="btn dropdown-toggle navIcon" type="button"
							data-bs-toggle="dropdown" aria-expanded="false">
							<i class="bi bi-bell-fill fs-4"></i>
						</button>

						<!-- Notification dropdown -->
						<ul class="dropdown-menu" id="notifDropdownList">
							<li><a href="./dashboard.html" id="navDropdownItemEmpty">
									<div class="mb-0 mx-3 my-0 text-left text-muted">
										You have no new notifications.
									</div>
								</a></li>


						</ul>
					</li>

					<!-- User settings -->
					<li>
						<!-- User button-->
						<button id="userDropdownBtn" class="btn dropdown-toggle navIcon" type="button"
							data-bs-toggle="dropdown" aria-expanded="false">
							<i class="bi bi-person-fill fs-4"></i>
						</button>

						<!-- User dropdown -->
						<ul class="dropdown-menu" id="userDropdownList">
							<li class="navDropdownListItem"><a href="./profile.html" class="navDropdownItem">
									User Profile</a></li>
							<li class="navDropdownListItem"><a href="./settings.html" class="navDropdownItem">
									Settings</a></li>
							<li>
								<hr class="dropdown-divider">
							</li>
							<li class="navDropdownListItem"><a href="./index.html" class="navDropdownItem">
									Log Out</a></li>
						</ul>
					</li>

				</ul>
			</div>
		</div>
	</nav>

</header>

<div class="container-md mt-5">
	<div class="row ">
		<!-- Form page 1 food category selection -->

		<div class="col-sm-12 text-center p-0 mt-3 mb-2">
			<div class="card px-0 pt-4 pb-0 my-3">
				<!-- Form Title [remain constant] -->
				<h2 class="mb-4 fs-1"><strong>Donate Food Waste</strong></h2>
				<div class="row">
					<div class="col-md-12">
						<form class="needs-validation" id="pickUpForm" novalidate>
							<!-- Progress Bar -->
							<ul id="progressbar" class='p-0'>
								<li class="active" id="food-details">
									<strong>Donation Details</strong>
								</li>
								<li class="active" id="pick-up">
									<strong>Pick Up</strong>
								</li>
								<li class="active" id="type">
									<strong>Donation Type</strong>
								</li>
								<li class="active" id="availability">
									<strong>Availability</strong>
								</li>
								<li class="active" id="confirmation">
									<strong>Confirmation</strong>
								</li>
							</ul>

							<!-- Step 4 Confirmation -->
							<fieldset class="step step3">
								<div class="row mx-2 mb-3 justify-content-center">
									<h1 class="fs-3 mb-3"><strong>Details Confirmation</strong></h1>
									<div class="col-lg-4">
										<div class="card mb-3">
											<h5 class="card-header">
												<strong>Contact and Pick Up Details</strong>
											</h5>
											<div class="card-body text-start">
												<div class="row">
													<div class="col-12">
														<div class="form-floating mb-3">
															<input type="text" class="form-control" id="ctcName2"
																placeholder="Your name here.." value="Edward" readonly>
															<label for="ctcName2">Food Donor Contact Name</label>
														</div>
													</div>
													<div class="col-lg-6 col-sm-12">
														<div class="form-floating mb-3">
															<input type="email" class="form-control" id="emailAddress2"
																placeholder="Email here.." value="Edward@mks.com.sg"
																readonly>
															<label for="emailAddress2">Email Address</label>
														</div>
													</div>
													<div class="col-lg-6 col-sm-12">
														<div class="form-floating mb-3">
															<input type="text" class="form-control" placeholder=""
																aria-label="Username" aria-describedby="ctcNo2"
																id="ctcNo" value="97234567" required readonly />
															<label for="ctcNo2">Contact No</label>
														</div>
													</div>
													<div class="col-12">
														<div class="form-floating mb-3">
															<input type="text" class="form-control" id="companyName2"
																placeholder="Company name here.."
																value="Moonkist Pte Ltd" readonly>
															<label for="companyName2">Company Name</label>
														</div>
													</div>
													<div class="col-12">
														<div class="form-floating mb-3">
															<textarea class="form-control" id="address2" rows="1"
																required
																readonly>123 Singapore Manufacturing Road</textarea>
															<label for="address2">Adress</label>
														</div>
													</div>
													<div class="col-lg-6 col-sm-12">
														<div class="form-floating mb-3">
															<input type="text" class="form-control" id="unitNo2"
																placeholder="Company name here.." value="-" readonly>
															<label for="unitNo2">Floor / Unit No</label>
														</div>
													</div>
													<div class="col-lg-6 col-sm-12">
														<div class="form-floating mb-3">

															<input type="text" class="form-control" id="postalCode2"
																placeholder="Postal Code.." value="Singapore 125656"
																readonly>
															<label for="postalCode2">Postal Code</label>
														</div>
													</div>
													<div class="col-12 d-grid">
														<button type="button" id="edit-donation-2"
															class="edit-btn btn btn-warning" data-bs-toggle="modal"
															data-bs-target="#editContact">
															<i class="bi bi-pencil-square"></i>
															Edit Contact and Pick Up Details
														</button>
													</div>
												</div>
											</div>


										</div>
									</div>
									<div class="col-lg-8">
										<div class="card mb-3">
											<h5 class="card-header">
												<strong>Calendar Overview</strong><span class="mx-2 fs-6">
													<i class="bi bi-info-circle-fill text-primary"
														data-bs-toggle="tooltip" data-bs-placement="top"
														title="Calendar overview shows your current schedule and availability based on your listing activities"></i></span>
											</h5>
											<div class="card-body">
												<div id='calendar'>
												</div>
											</div>
										</div>
									</div>
									<div class="col-lg-12">
										<div class="card mb-3">
											<h5 class="card-header">
												Donation Cart
											</h5>
											<div class="card-body table-responsive">
												<table class="table table-hover align-middle">
													<thead>
														<tr>
															<th scope="col">#</th>
															<th scope="col">Category</th>
															<th scope="col">Name</th>
															<th scope="col">Quantity</th>
															<th scope="col">Stability</th>
															<th scope="col">Production Date</th>
															<th scope="col">Expiry Date</th>
															<th scope="col">File</th>
															<th scope="col">Edit</th>
															<th scope="col">Remove</th>
														</tr>
													</thead>
													<tbody>
														<tr>
															<th scope="row">1</th>
															<td>Fruits and Vegetable Peels</td>
															<td>Orange Peels</td>
															<td>2 Kg</td>
															<td>-</td>
															<td>26/10/21</td>
															<td>-</td>
															<td>
																<button type="button" class="btn btn-light" data-bs-toggle="modal"
																data-bs-target="#displayImageModal">
																	<i class="bi bi-file-earmark-image"></i>
																</button>

															</td>
															<td>
																<button type="button" id="edit-donation-1"
																	class="edit-btn btn btn-warning">
																	<i class="bi bi-pencil-square"></i>
																	Edit
																</button>

															</td>
															<td>
																<button type="button" id="remove-donation-1"
																	class="btn btn-danger" data-bs-toggle="modal"
																	data-bs-target="#removeItemModal1">
																	<i class="bi bi-trash"></i>
																	Remove
																</button>
															</td>
														</tr>

													</tbody>
												</table>
											</div>


										</div>
									</div>

								</div>


								<!-- buttons -->
								<div class="row mx-2 mb-4 justify-content-center">
									<div class="col-lg-6 col-sm-12 d-grid mb-2">
										<button onclick="prevBtn()" type="button" class="btn btn-light btn-lg prev-btn border-success">
											Previous
										</button>
									</div>
									<div class="col-lg-6 col-sm-12 d-grid mb-2">
										<button type="button" class="btn btn-success btn-lg donate-btn fw-bolder" data-bs-toggle="modal" data-bs-target="#successModal">
											Donate
										</button>
									</div>
								</div>
							</fieldset>


						</form>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

<!-- Modals -->
<div class="modal fade" id="successModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title" id="exampleModalLabel">Success</h5>
				<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
			</div>
			<div class="modal-body justify-content-center text-center">
				<div class="display-1 mb-3 text-success">
					<i class="bi bi-check-circle-fill"></i>
				</div>
				Items have been successfully listed for donation. <br>
				Thank you for donating with FoodFerry.
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-success" onclick="location.href = 'dashboard-after.html'"
					data-bs-dismiss="modal">Ok</button>
			</div>
		</div>
	</div>
</div>


<div class="modal fade" id="removeItemModal1" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title" id="exampleModalLabel">Remove Item</h5>
				<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
			</div>
			<div class="modal-body">
				Are you sure you want to remove item?
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
				<button type="button" class="btn btn-danger" onclick="removeItem(donationItem1)"
					data-bs-dismiss="modal">Remove</button>
			</div>
		</div>
	</div>
</div>

<div class="modal fade" id="editContact" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
	<div class="modal-dialog modal-xl">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title" id="exampleModalLabel">Edit Contact Details</h5>
				<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
			</div>
			<div class="modal-body">
				<div class="row mx-3 mb-0 g-2">
					<div class="col-lg-12">
						<div class="card mb-3">
							<h1 class="card-header fs-3">
								<strong>Enter Contact and Pick Up Details</strong>
							</h1>
							<div class="card-body">
								<div class="row mx-2 mb-3 g-3 text-start">
									<div class="col-lg-12 col-md-12 col-sm-12">
										<div class="row">
											<div class="col-lg-6">
												<label for="unit" class="form-label fw-bolder">Select Default
													Contact*</label>
											</div>
											<div class="col-lg-6 justify-content-end text-end">
												<div class="text-success" onclick="addNewCtc()"><strong>+ Add New
														Contact</strong></div>
											</div>
										</div>

										<select class="form-select" aria-label="Default Contact" id="defaultCtc">
											<option value="0">New</option>
											<option value="1" selected>Edward, Sales Manager (MuffinFactory)</option>
											<option value="2">Jack, Production Manager (Muffin Factory)</option>
										</select>
									</div>
									<div class="ms-2 form-check form-check-inline">
										<input class="form-check-input" id="defCtcCbx" type="checkbox" name="defCtcCbx"
											checked />
										<label class="form-check-label" for="defCtcCbx">Make this contact
											default in the future</label>
									</div>
									<hr>
									<div class="col-lg-6 col-md-12">
										<!-- Name input-->
										<label for="ctcName" class="form-label">Food Donor Contact Name*</label>
										<input type="text" class="form-control" id="ctcName" placeholder="" required />
										<div class="invalid-feedback">
											Contact Name is required.
										</div>
									</div>
									<div class="col-lg-3 col-md-6 col-sm-12">
										<!-- Email address input-->
										<label for="emailAddress" class="form-label">Email Address*</label>
										<input type="email" class="form-control" id="emailAddress" placeholder=""
											required />
										<div class="invalid-feedback">
											Email Address is not valid
										</div>
									</div>
									<div class="col-lg-3 col-md-6 col-sm-12">
										<!-- Mobile number input-->
										<label for="ctcNo" class="form-label">Contact Number*</label>
										<div class="input-group">
											<span class="input-group-text" id="ctcNo65">+65</span>
											<input type="text" class="form-control" placeholder="" aria-label="Username"
												aria-describedby="ctcNo" id="ctcNo" required />
											<div class="invalid-feedback">
												Contact Number is required
											</div>
										</div>
									</div>

									<div class="col-12">
										<!-- Company Name input-->
										<label for="companyName" class="form-label">Company Name*</label>
										<input type="text" class="form-control" id="companyName" placeholder=""
											required />
									</div>

									<div class="col-lg-6 col-md-12">
										<label for="address" class="form-label">Pick Up Address*</label>
										<textarea class="form-control" id="address" rows="1" required></textarea>
										<div class="invalid-feedback">
											Address is required
										</div>
									</div>

									<div class="col-lg-6 col-md-12">
										<div class="row row-cols-sm-1 row-cols-md-2">
											<div class="col">
												<label for="unitNo" class="form-label">Floor / unit number*</label>
												<input type="text" class="form-control" id="unitNo" placeholder=""
													required />
												<div class="invalid-feedback">
													floor / unit number is required
												</div>
											</div>
											<div class="col">
												<!-- Postal code input-->
												<label for="postalCode" class="form-label">Postal Code*</label>
												<div class="input-group">
													<span class="input-group-text">S</span>
													<input type="text" class="form-control" placeholder=""
														aria-label="Postal Code" aria-describedby="postalCode"
														id="postalCode" required />
													<div class="invalid-feedback">
														Postal Code is required
													</div>
												</div>
											</div>
										</div>
									</div>

								</div>
							</div>
						</div>
					</div>


				</div>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
				<button type="button" class="btn btn-success" onclick="saveContact(ctcDetails)"
					data-bs-dismiss="modal">Save</button>
			</div>
		</div>
	</div>
</div>


<!-- Modal -->
<div class="modal fade" id="displayImageModal" tabindex="-1">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title" id="exampleModalLabel">orange_peels.jpg</h5>
				<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
			</div>
			<div class="modal-body">
				<img src="https://images.ctfassets.net/isq5xwjfoz2m/5FEtkhEIn4J57Nfkudfu12/8c4912aa3ab53fa59652305f0376192e/Listing_-_CE_Example_-_DeClique.png" width="100%">
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
			</div>
		</div>
	</div>
</div>

<!-- Bootstrap and Propper core JS-->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
	integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous">
</script>
<!-- Core theme JS-->
<script src="/js/scripts.js"></script> 


<script>
	//get contact details from session
	console.log(sessionStorage.getItem('pickUpDetails'));

	//Previous button
	function prevBtn() {
		window.location.href = "donate-availability.html"
	}

	const defCtc = document.getElementById("defaultCtc");
	defCtc.addEventListener('change', selectDefaultCtc);
	selectDefaultCtc();

	function selectDefaultCtc(e) {
		let strUser = defCtc.value;
		if (strUser == '1') {
			document.getElementById('ctcName').value = "Edward";
			document.getElementById('emailAddress').value = "Edward@mks.com.sg";
			document.getElementById('ctcNo').value = "97234567";
			document.getElementById('companyName').value = "Moonkist Pte Ltd";
			document.getElementById('address').value = "123 Manufacturing Road";
			document.getElementById('unitNo').value = "-";
			document.getElementById('postalCode').value = "125656";
		} else if (strUser == '2') {
			document.getElementById('ctcName').value = "Jack";
			document.getElementById('emailAddress').value = "Jack@mks.com.sg";
			document.getElementById('ctcNo').value = "96124567";
			document.getElementById('companyName').value = "Moonkist Pte Ltd";
			document.getElementById('address').value = "123 Manufacturing Road";
			document.getElementById('unitNo').value = "-";
			document.getElementById('postalCode').value = "125656";
		} else {
			document.getElementById('ctcName').value = null;
			document.getElementById('emailAddress').value = null;
			document.getElementById('ctcNo').value = null;
			document.getElementById('companyName').value = null;
			document.getElementById('address').value = null;
			document.getElementById('unitNo').value = null;
			document.getElementById('postalCode').value = null;
		}
	}

	function addNewCtc(){
		defCtc.value = "0"
		selectDefaultCtc();
	}

</script>

<script src="//cdn.loop11.com/embed.js" type="text/javascript" async="async"></script>
</body>

</html>